<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <title>Mycow's World</title>

        <link href='https://fonts.googleapis.com/css?family=Arvo:400,700,400italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/assets/font-awesome-4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="/assets/css/blog.css">

        <script src="/assets/js/scale.fix.js"></script>
        <script src="/assets/js/jquery-3.2.0.min.js"></script>
        <script type="text/javascript" id="dsq-count-scr" async src="http://mycowsworld.disqus.com/count.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <!--[if lt IE 9]>
        <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    </head>

    <body>
        <div id="mobile-menu">
            <div id="menu-container">
                <h1 class="header"><a class="header" href="http://www.mycowsworld.com">Mycow's World</a></h1>
                <!-- social icons -->
                <div id="mobile-social-buttons">
                    <a class="header social-links fa-hover" href="http://www.github.com/moduli" target="_blank"><i class="fa fa-github fa-3x fa-hover" aria-hidden="true"></i></a>
                    <a class="header social-links fa-hover" href="http://www.linkedin.com/in/moduli" target="_blank"><i class="fa fa-linkedin-square fa-3x fa-hover" aria-hidden="true"></i></a>
                    <a class="header social-links fa-hover" href="mailto:mycowsworld@gmail.com"><i class="fa fa-envelope-square fa-3x fa-hover" aria-hidden="true"></i></a>
                </div>

                <button class="hamburger">&#9776;</button>
            </div>

            <div class="menu">
                <ul>
                    <a class="menu-item" href="http://www.mycowsworld.com"><li>Blog</li></a>
                    <a class="menu-item" href="http://www.mycowsworld.com/projects"><li>Projects</li></a>
                    <a class="menu-item" href="http://www.mycowsworld.com/about"><li>About</li></a>
                    <a class="menu-item" href="http://www.mycowsworld.com/archive"><li>Archive</li></a>
                </ul>
            </div>
        </div>
        <div class="wrapper">

            <!-- HEADER -->
            <header>
                <h1 class="header"><a class="header" href="http://www.mycowsworld.com">Mycow's World</a></h1>
                <p class="header">Hi, I'm Michael Li. Welcome to my world.
</p>

                <!-- site links -->
                <div id="site-links">
                    <ul>
                        <li><a class="site-links" href="http://www.mycowsworld.com">Blog</a></li>
                        <li><a class="site-links" href="http://www.mycowsworld.com/projects">Projects</a></li>
                        <li><a class="site-links" href="http://www.mycowsworld.com/about">About</a></li>
                        <li><a class="site-links" href="http://www.mycowsworld.com/archive">Archive</a></li>
                    </ul>
                </div>

                <!-- social icons -->
                <div>
                    <a class="social-links fa-hover" href="http://www.github.com/moduli" target="_blank"><i class="fa fa-github fa-3x fa-hover" aria-hidden="true"></i></a>
                    <a class="social-links fa-hover" href="http://www.linkedin.com/in/moduli" target="_blank"><i class="fa fa-linkedin-square fa-3x fa-hover" aria-hidden="true"></i></a>
                    <a class="social-links fa-hover" href="mailto:mycowsworld@gmail.com"><i class="fa fa-envelope-square fa-3x fa-hover" aria-hidden="true"></i></a>
                </div>

                

                
            </header>

            <!-- SECTION -->
            <section>
                <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <!-- add link to go to back to blog -->

  <div class="post-content" itemprop="articleBody">

    <h1 class="post-title" itemprop="name headline">HTML Device Orientation Project</h1>

    <div class="post-meta">

        <!-- post meta data -->
        <time datetime="2013-11-12T22:50:00-05:00" itemprop="datePublished">Nov 12, 2013</time>
        

        <!-- comments -->
        
        <a class="blogcomments" href="/blog/2013/11/12/coding-project-added-labyrinth.html#disqus_thread">Comments</a>
        

        <!-- tags -->
        <div class="tag">
            <ul class="tag">
                
                <li class="tag">
                    <a class="tag" href="http://www.mycowsworld.com/tags/code"> Code </a>
                </li>
                
                <li class="tag">
                    <a class="tag" href="http://www.mycowsworld.com/tags/html"> HTML </a>
                </li>
                
                <li class="tag">
                    <a class="tag" href="http://www.mycowsworld.com/tags/javascript"> Javascript </a>
                </li>
                
                <li class="tag">
                    <a class="tag" href="http://www.mycowsworld.com/tags/css"> CSS </a>
                </li>
                
            </ul>
        </div>

        <p></p>
    </div>

    <!-- post content -->
    <div class="content">
        <p>For a class assignment, we were asked to create a project that demonstrated the usage of device orientation events. In this project, the device orientation was used to manipulate a “rolling ball” on the screen.</p>

<p>To try the demo, click <a href="http://www.mycowsworld.com/code/Labyrinth">here</a>.  Note that the project was programmed such that it only works on a mobile device (e.g. phones, tablets).</p>

<p>For the source code, click <a href="https://github.com/moduli/Labyrinth">here</a>. Click through for more documentation.</p>

<!-- more -->

<h2 id="usage">Usage</h2>
<p>After loading the demo, it will ask you to rotate your device to landscape mode. After rotating, tap the screen to begin, and you can begin tilting your device to move a “marble” around on the screen. Rotating back to portrait mode will “pause” the demo.</p>

<p>Each time you resume the demo from a paused state, it will recalibrate the center position based on how the device is held.</p>

<p>The demo can be found <a href="http://www.mycowsworld.com/assets/code/Labyrinth/">here</a>.</p>

<h2 id="documentation">Documentation</h2>
<h3 id="media-queries">Media Queries</h3>
<p>This project used media queries to determine what kind of device is being used by the user. In CSS, different styles were applied based on the device type. For example, the first block would apply to phones, and the second block would apply to tablets. Note that if using a tablet, it would apply the phone styling first, then also apply the tablet styling on top of it.</p>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="k">@media</span> <span class="n">only</span> <span class="n">screen</span> <span class="n">and</span> <span class="p">(</span><span class="n">min-device-width</span><span class="p">:</span> <span class="m">320px</span><span class="p">)</span> <span class="p">{</span>
	<span class="nf">#overlaytext</span> <span class="p">{</span>
		<span class="nl">font-size</span><span class="p">:</span> <span class="m">25px</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>
<span class="k">@media</span> <span class="n">only</span> <span class="n">screen</span> <span class="n">and</span> <span class="p">(</span><span class="n">min-device-width</span><span class="p">:</span> <span class="m">768px</span><span class="p">)</span> <span class="p">{</span>
	<span class="nf">#overlaytext</span> <span class="p">{</span>
		<span class="nl">font-size</span><span class="p">:</span> <span class="m">50px</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>In Javascript, I first checked to see if the browser supported this functionality. Then, I added some if statements to determine the device type. I used this to set certain settings that would be more “optimized” for a phone versus a tablet.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">matchMedia</span><span class="p">)</span> <span class="p">{</span>
	<span class="c1">// PHONE</span>
	<span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">matchMedia</span><span class="p">(</span><span class="s1">'(max-device-width: 767px)'</span><span class="p">).</span><span class="nx">matches</span><span class="p">)</span> <span class="p">{</span>
		<span class="c1">// do something</span>
	<span class="p">}</span>
	<span class="c1">// TABLET</span>
	<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">matchMedia</span><span class="p">(</span><span class="s1">'(max-device-width: 1024px)'</span><span class="p">).</span><span class="nx">matches</span><span class="p">)</span> <span class="p">{</span>
		<span class="c1">// do something</span>
	<span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<h3 id="device-orientation-change---portraitlandscape">Device Orientation Change - Portrait/Landscape</h3>
<p>To detect when a device changes orientation (from landscape to portrait and vice versa), I employed the use of the window.onorientationchange event. All modern mobile browsers support this event.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">DeviceOrientationEvent</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// do something...</span>
<span class="p">}</span>
<span class="k">else</span> <span class="p">{</span>
    <span class="c1">// display text that this device does not support device orientation</span>
<span class="p">}</span></code></pre></figure>

<p>Once you have determined that the device supports orientation events, you can then receive notifications of when a device changes orientation and subsequently perform an action.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nb">window</span><span class="p">.</span><span class="nx">onorientationchange</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
	<span class="k">switch</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">orientation</span><span class="p">)</span> <span class="p">{</span>
	    <span class="c1">// Note: The following numbers don't necessarily work on all devices</span>
	    <span class="c1">// See http://www.matthewgifford.com/blog/2011/12/22/a-misconception-about-window-orientation/ for more detail</span>
  		<span class="k">case</span> <span class="o">-</span><span class="mi">90</span><span class="err">:</span> <span class="c1">// landscape</span>
  		    <span class="c1">// do something</span>
  			<span class="k">break</span><span class="p">;</span>
 		<span class="k">case</span> <span class="mi">90</span><span class="err">:</span> <span class="c1">// landscape</span>
 		    <span class="c1">// do something</span>
    		<span class="k">break</span><span class="p">;</span>
  		<span class="nl">default</span><span class="p">:</span> <span class="c1">// portrait</span>
  		    <span class="c1">// do something</span>
    		<span class="k">break</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">};</span></code></pre></figure>

<h3 id="device-orientation-change---ball-movement">Device Orientation Change - Ball Movement</h3>
<p>In addition to receiving notifications when a device changes orientation from landscape to orientation, you can add a listener to receive notifications whenever a device changes its orientation at all.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'deviceorientation'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// event.gamma - angle of device around x axis</span>
    <span class="c1">// event.beta - angle of device around y axis</span>
    <span class="c1">// event.alpha - angle of device around z axis</span>
<span class="p">}</span></code></pre></figure>

<h3 id="animation">Animation</h3>
<p>Instead of using a timer loop to create animations, there is a feature to allow the browser to notify your application when it is ready for the next frame of the animation.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// obtain a reference to the appropriate function name (this function has different names between browsers)</span>
<span class="c1">// if the browser does not support it, we'll fall back to using a timer loop</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">reqAnimFrame</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">mozRequestAnimationFrame</span> <span class="o">||</span>
                <span class="nb">window</span><span class="p">.</span><span class="nx">webkitRequestAnimationFrame</span> <span class="o">||</span>
                <span class="nb">window</span><span class="p">.</span><span class="nx">msRequestAnimationFrame</span> <span class="o">||</span>
                <span class="nb">window</span><span class="p">.</span><span class="nx">oRequestAnimationFrame</span> <span class="o">||</span>
                <span class="nb">window</span><span class="p">.</span><span class="nx">requestAnimationFrame</span> <span class="o">||</span>
                <span class="kd">function</span><span class="p">(</span><span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
          			<span class="nb">window</span><span class="p">.</span><span class="nx">setTimeout</span><span class="p">(</span><span class="nx">callback</span><span class="p">,</span> <span class="mi">1000</span> <span class="o">/</span> <span class="mi">60</span><span class="p">);</span>
        		<span class="p">};</span>

<span class="kd">function</span> <span class="nx">animate</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// draw something here</span>

    <span class="nx">reqAnimFrame</span><span class="p">(</span><span class="nx">animate</span><span class="p">);</span> <span class="c1">// call animate function again when browser is ready</span>
<span class="p">}</span>

<span class="c1">// initial animate call</span>
<span class="nx">animate</span><span class="p">();</span></code></pre></figure>

<h2 id="references">References</h2>
<h3 id="media-queries-1">Media Queries</h3>
<ul>
  <li><a href="http://www.quirksmode.org/blog/archives/2010/09/combining_meta.html">http://www.quirksmode.org/blog/archives/2010/09/combining_meta.html</a></li>
  <li><a href="http://www.javascriptkit.com/dhtmltutors/cssmediaqueries2.shtml">http://www.javascriptkit.com/dhtmltutors/cssmediaqueries2.shtml</a></li>
</ul>

<h3 id="device-orientation">Device Orientation</h3>
<ul>
  <li><a href="http://www.html5rocks.com/en/tutorials/device/orientation/">http://www.html5rocks.com/en/tutorials/device/orientation/</a></li>
  <li><a href="http://www.matthewgifford.com/blog/2011/12/22/a-misconception-about-window-orientation/">http://www.matthewgifford.com/blog/2011/12/22/a-misconception-about-window-orientation/</a></li>
</ul>

<h3 id="animation-1">Animation</h3>
<ul>
  <li><a href="http://tutorials.jenkov.com/html5-canvas/animation.html">http://tutorials.jenkov.com/html5-canvas/animation.html</a></li>
  <li><a href="http://www.paulirish.com/2011/requestanimationframe-for-smart-animating/">http://www.paulirish.com/2011/requestanimationframe-for-smart-animating/</a></li>
</ul>

    </div>
  </div>

  
    

  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'http://www.mycowsworld.com/blog/2013/11/12/coding-project-added-labyrinth.html';
      this.page.identifier = '/blog/2013/11/12/coding-project-added-labyrinth.html';
    };

    (function() {
      var d = document, s = d.createElement('script');

      s.src = 'https://mycowsworld.disqus.com/embed.js';

      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


  
</article>

<script type="text/javascript">
	$(".site-links:contains('Blog'):parent").addClass("active-link");
</script>

            </section>

            <!-- FOOTER -->
            <footer>
                <!-- <p><small>Hosted on <a href="https://pages.github.com" target="_blank">GitHub Pages</a> using the <a href="https://github.com/pages-themes/dinky" target="_blank">Dinky</a> theme</small></p>-->
                <!--<p class="rss-subscribe">Subscribe via <a href="/feed.xml">RSS</a></p>-->
            </footer>
        </div>


        <script type="text/javascript">
            $( ".menu" ).hide();
            $( ".hamburger" ).click(function() {
                $( ".menu" ).slideToggle( "slow", function() {
                });
            });
        </script>
        <!--[if !IE]><script>fixScale(document);</script><![endif]-->
        
    </body>
</html>
