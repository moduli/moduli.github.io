<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <title>Mycow's World</title>

        <link href='https://fonts.googleapis.com/css?family=Arvo:400,700,400italic' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="/assets/font-awesome-4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="/assets/css/blog.css">

        <script src="/assets/js/scale.fix.js"></script>
        <script src="/assets/js/jquery-3.2.0.min.js"></script>
        <script type="text/javascript" id="dsq-count-scr" async src="http://mycowsworld.disqus.com/count.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <!--[if lt IE 9]>
        <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    </head>

    <body>
        <div id="mobile-menu">
            <div id="menu-container">
                <h1 class="header"><a class="header" href="http://www.mycowsworld.com">Mycow's World</a></h1>
                <!-- social icons -->
                <div id="mobile-social-buttons">
                    <a class="header social-links fa-hover" href="http://www.github.com/moduli" target="_blank"><i class="fa fa-github fa-3x fa-hover" aria-hidden="true"></i></a>
                    <a class="header social-links fa-hover" href="http://www.linkedin.com/in/moduli" target="_blank"><i class="fa fa-linkedin-square fa-3x fa-hover" aria-hidden="true"></i></a>
                    <a class="header social-links fa-hover" href="mailto:mycowsworld@gmail.com"><i class="fa fa-envelope-square fa-3x fa-hover" aria-hidden="true"></i></a>
                </div>

                <button class="hamburger">&#9776;</button>
            </div>

            <div class="menu">
                <ul>
                    <a class="menu-item" href="http://www.mycowsworld.com"><li>Blog</li></a>
                    <a class="menu-item" href="http://www.mycowsworld.com/projects"><li>Projects</li></a>
                    <a class="menu-item" href="http://www.mycowsworld.com/about"><li>About</li></a>
                    <a class="menu-item" href="http://www.mycowsworld.com/archive"><li>Archive</li></a>
                </ul>
            </div>
        </div>
        <div class="wrapper">

            <!-- HEADER -->
            <header>
                <h1 class="header"><a class="header" href="http://www.mycowsworld.com">Mycow's World</a></h1>
                <p class="header">Hi, I'm Michael Li. Welcome to my world.
</p>

                <!-- site links -->
                <div id="site-links">
                    <ul>
                        <li><a class="site-links" href="http://www.mycowsworld.com">Blog</a></li>
                        <li><a class="site-links" href="http://www.mycowsworld.com/projects">Projects</a></li>
                        <li><a class="site-links" href="http://www.mycowsworld.com/about">About</a></li>
                        <li><a class="site-links" href="http://www.mycowsworld.com/archive">Archive</a></li>
                    </ul>
                </div>

                <!-- social icons -->
                <div>
                    <a class="social-links fa-hover" href="http://www.github.com/moduli" target="_blank"><i class="fa fa-github fa-3x fa-hover" aria-hidden="true"></i></a>
                    <a class="social-links fa-hover" href="http://www.linkedin.com/in/moduli" target="_blank"><i class="fa fa-linkedin-square fa-3x fa-hover" aria-hidden="true"></i></a>
                    <a class="social-links fa-hover" href="mailto:mycowsworld@gmail.com"><i class="fa fa-envelope-square fa-3x fa-hover" aria-hidden="true"></i></a>
                </div>

                

                
            </header>

            <!-- SECTION -->
            <section>
                <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <!-- add link to go to back to blog -->

  <div class="post-content" itemprop="articleBody">

    <h1 class="post-title" itemprop="name headline">Classic Battleships (iOS)</h1>

    <div class="post-meta">

        <!-- post meta data -->
        <time datetime="2013-12-16T23:34:00-05:00" itemprop="datePublished">Dec 16, 2013</time>
        

        <!-- comments -->
        
        <a class="blogcomments" href="/blog/2013/12/16/classic-battleships-ios.html#disqus_thread">Comments</a>
        

        <!-- tags -->
        <div class="tag">
            <ul class="tag">
                
                <li class="tag">
                    <a class="tag" href="http://www.mycowsworld.com/tags/code"> Code </a>
                </li>
                
                <li class="tag">
                    <a class="tag" href="http://www.mycowsworld.com/tags/ios"> iOS </a>
                </li>
                
                <li class="tag">
                    <a class="tag" href="http://www.mycowsworld.com/tags/objective-c"> Objective-C </a>
                </li>
                
            </ul>
        </div>

        <p></p>
    </div>

    <!-- post content -->
    <div class="content">
        <p>One of my class projects was to recreate the game “Classic Battleships” (see <a href="http://www.freeworldgroup.com/games9/gameindex/classicbattleships.htm">here</a> or <a href="http://www.conceptispuzzles.com/index.aspx?uri=puzzle/battleships">here</a> for an explanation of the rules) for iOS.</p>

<div class="image-wrapper">
    <a href="/assets/posts/2013-12-16-classic-battleships-ios/battleship_game.png" title="">
        <img src="/assets/posts/2013-12-16-classic-battleships-ios/battleship_game.png" alt="" />
    </a>
</div>

<!--

<img src="/assets/posts/2013-12-16-classic-battleships-ios/battleship_game.png"  />

-->

<p>For the source code, click <a href="https://github.com/moduli/Battleship_iOS">here</a>. Click through for more documentation.</p>

<!-- more -->

<h2 id="usage">Usage</h2>
<p>After launching the game, the user is met with three options…</p>
<ul>
  <li>New Game - presents a list of levels that can be played. Selecting a level brings the user to the game screen</li>
  <li>High Scores - presents a list of high scores for each level</li>
  <li>Settings - presents options for the user to select</li>
</ul>

<p>In the game screen, the user can tap on a tile on the screen. The small black square is an empty tile, a blue square is a water tile, and a grey square is a ship tile. The numbers along the edges of the game screen represent the number of ship tiles in that row or column.</p>

<p>The other caveat is that the ship tiles must fall under a set number of configurations. For example, a level may require one 3x1 ship, two 2x1 ships, and three 1x1 ships. These ships can be in any orientation (horizontal or vertical). Note that ships cannot touch each other, meaning that a ship must be completely surrounded by water tiles.</p>

<h2 id="documentation">Documentation</h2>
<h3 id="breakpoints">Breakpoints</h3>
<p>To start off, I added a breakpoint for all exceptions. This would allow errors to be picked up at the point at which they were thrown instead of catching the exception once it propagates all the way up the stack.</p>

<ol>
  <li>In the left panel, select the <b>Breakpoint Navigator</b></li>
  <li>In the bottom left, click the ‘+’ sign</li>
  <li>Click <b>Add Exception Breakpoint</b>.
    <ul>
      <li>A new breakpoint should appear in the Breakpoint Navigator list</li>
    </ul>
  </li>
  <li>Right-click the new item, and click <b>Edit Breakpoint</b>. Ensure that <i>Exception</i> is set to <b>All</b> and <i>Break</i> is set to <b>On Throw</b></li>
</ol>

<h3 id="storyboard">Storyboard</h3>
<p>I first began by constructing the skeleton of the storyboard.</p>

<ol>
  <li>In MainStoryboard.storyboard, drag a <b>Navigation Controller</b> object onto the storyboard.</li>
  <li>By default, a <i>Table View Controller</i> is attached to the Navigation Controller. Delete the Table View Controller (Click -&gt; Delete) and drag a <b>View Controller</b> onto the storyboard.</li>
  <li>To link the two together, right-click the Navigation Controller. Ctrl+click the circle in the <i>root view controller</i> row, and drag to the View Controller. This establishes the View Controller as the starting point.</li>
  <li>Drag a <b>Table View Controller</b> object to the storyboard. This will be used for the level selection screen.</li>
  <li>Drag a <b>Button</b> object onto the first View Controller.</li>
  <li>Right-click the Button. Ctrl+click the circle in the <i>action</i> row, and drag to the Table View Controller.</li>
  <li>In the resulting sub-menu, select Push.
    <ul>
      <li><i>Push</i> “pushes” the next screen on top of the current. one. This will present the user twith a Back button to move back to the current screen</li>
      <li><i>Modal</i> presents another screen that isn’t “connected” to the current screen (like a pop-up)</li>
      <li>This <a href="http://stackoverflow.com/questions/9392744/difference-between-modal-and-push-segue-in-storyboards">link</a> describes the differences fairly well</li>
    </ul>
  </li>
  <li>Repeat this for other views</li>
</ol>

<h3 id="level-selection">Level Selection</h3>
<p>I then started to populate the Table View Controller. This View Controller is used to populate a list of available levels in the game.</p>

<ol>
  <li>Add levels.txt to the project
    <ol>
      <li>File -&gt; Add Files to “Project”</li>
      <li>Select levels.txt</li>
    </ol>
  </li>
  <li>File -&gt; New -&gt; File -&gt; iOS/Cocoa Touch -&gt; <b>Objective-C Class</b></li>
  <li>Set Class to <b>LevelSelectViewController</b></li>
  <li>Set Subclass to <b>UITableViewController</b></li>
  <li>Click <b>Next</b></li>
  <li>Set Destination to your application’s directory</li>
  <li>Click <b>Create</b></li>
  <li>In the storyboard, select the Table View Controller</li>
  <li>Select the <i>Identity</i> inspector in the right panel</li>
  <li>In the <i>Custom class</i> section, set <i>Class</i> to <b>LevelSelectViewController</b>
    <ol>
      <li>This was the class created above. The option should be available in the drop-down menu</li>
      <li>This tells this View Controller to use LevelSelectViewController</li>
    </ol>
  </li>
  <li>Load the levels.txt file by adding the following code in LevelSelectViewController.m (viewDidLoad is invoked once the view controller has finished loading the view)</li>
</ol>

<figure class="highlight"><pre><code class="language-objective_c" data-lang="objective_c"><span class="k">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">viewDidLoad</span> <span class="p">{</span>
        <span class="p">[</span><span class="n">super</span> <span class="nf">viewDidLoad</span><span class="p">];</span>

        <span class="n">NSString</span><span class="o">*</span> <span class="n">file</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSBundle</span> <span class="nf">mainBundle</span><span class="p">]</span> <span class="nf">pathForResource</span><span class="p">:</span><span class="s">@"levels"</span> <span class="nf">ofType</span><span class="p">:</span><span class="s">@"txt"</span><span class="p">];</span>
        <span class="n">NSString</span><span class="o">*</span> <span class="n">fileContents</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSString</span> <span class="nf">stringWithContentsOfFile</span><span class="p">:</span><span class="n">file</span> <span class="nf">encoding</span><span class="p">:</span><span class="n">NSUTF8StringEncoding</span> <span class="n">error</span><span class="o">:</span><span class="nb">nil</span><span class="p">];</span>
        <span class="n">NSArray</span><span class="o">*</span> <span class="n">allLines</span> <span class="o">=</span> <span class="p">[</span><span class="n">fileContents</span> <span class="nf">componentsSeparatedByCharactersInSet</span><span class="p">:[</span><span class="n">NSCharacterSet</span> <span class="nf">newlineCharacterSet</span><span class="p">]];</span>

        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="p">[</span><span class="n">allLines</span> <span class="nf">count</span><span class="p">];</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// process text file...
</span>        <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>In MainStoryboard.storyboard, select the Prototype Cell (the lone entry in the table) in the LevelSelectViewController object. In the Identity inspector, set <i>Restoration ID</i> to some name (I picked <b>LevelCell</b>)</p>

<p>In LevelSelectViewController.m, implement the associated UITableViewController functions (since this class subclassed UITableViewController, the associated functions were already added to the .m file)</p>

<figure class="highlight"><pre><code class="language-objective_c" data-lang="objective_c"><span class="k">-</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">numberOfSectionsInTableView</span><span class="p">:(</span><span class="n">UITableView</span> <span class="o">*</span><span class="p">)</span><span class="nv">tableView</span> <span class="p">{</span>
    <span class="c1">// Return the number of sections
</span>    <span class="c1">// we only have one section/group in table
</span>    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">-</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">tableView</span><span class="p">:(</span><span class="n">UITableView</span> <span class="o">*</span><span class="p">)</span><span class="nv">tableView</span> <span class="nf">numberOfRowsInSection</span><span class="p">:(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nv">section</span> <span class="p">{</span>
    <span class="c1">// Return the number of rows in the section.
</span>    <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">levels</span><span class="p">.</span><span class="n">count</span><span class="p">;</span> <span class="c1">// I stored all of the levels in an array
</span><span class="p">}</span>
<span class="k">-</span> <span class="p">(</span><span class="n">UITableViewCell</span> <span class="o">*</span><span class="p">)</span><span class="nf">tableView</span><span class="p">:(</span><span class="n">UITableView</span> <span class="o">*</span><span class="p">)</span><span class="nv">tableView</span> <span class="nf">cellForRowAtIndexPath</span><span class="p">:(</span><span class="n">NSIndexPath</span> <span class="o">*</span><span class="p">)</span><span class="nv">indexPath</span> <span class="p">{</span>
    <span class="c1">// this function will be called for each row in the table
</span>
    <span class="c1">// populate table
</span>    <span class="n">Level</span><span class="o">*</span> <span class="n">level</span> <span class="o">=</span> <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">levels</span> <span class="nf">objectAtIndex</span><span class="p">:</span><span class="n">indexPath</span><span class="p">.</span><span class="n">row</span><span class="p">];</span>
    <span class="k">static</span> <span class="n">NSString</span><span class="o">*</span> <span class="n">CellIdentifier</span> <span class="o">=</span> <span class="s">@"LevelCell"</span><span class="p">;</span> <span class="c1">// defined in StoryBoard (CustomCollectionView)
</span>    <span class="n">UITableViewCell</span><span class="o">*</span> <span class="n">cell</span> <span class="o">=</span> <span class="p">[</span><span class="n">tableView</span> <span class="nf">dequeueReusableCellWithIdentifier</span><span class="p">:</span><span class="n">CellIdentifier</span> <span class="nf">forIndexPath</span><span class="p">:</span><span class="n">indexPath</span><span class="p">];</span>

    <span class="c1">// set cell label
</span>    <span class="n">cell</span><span class="p">.</span><span class="n">textLabel</span><span class="p">.</span><span class="n">text</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSString</span> <span class="nf">stringWithFormat</span><span class="p">:</span><span class="s">@"Board%@ (%dx%d)"</span><span class="p">,</span><span class="n">level</span><span class="p">.</span><span class="n">board_id</span><span class="p">,</span><span class="n">level</span><span class="p">.</span><span class="n">board_size</span><span class="p">,</span><span class="n">level</span><span class="p">.</span><span class="n">board_size</span><span class="p">];</span>

    <span class="k">return</span> <span class="n">cell</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<h3 id="game-screen">Game Screen</h3>
<h4 id="storyboard-1">Storyboard</h4>
<p>To create the game board…</p>

<ol>
  <li>Drag a Collection View object to a new view controller.</li>
  <li>Click the prototype cell in the Collection View (the first tile), and set an Identifier in the Attributes inspector (similar to the Level Select screen). In this case, I named it <b>GameTileCell</b></li>
  <li>Create a custom class for the Collection View
    <ol>
      <li>File -&gt; New -&gt; File -&gt; iOS/Cocoa Touch -&gt; Objective-C Class</li>
      <li>Set <i>Class</i> to <b>CustomCollectionView</b></li>
      <li>Set <i>Subclass</i> to <b>UICollectionView</b></li>
      <li>Click <b>Next</b></li>
      <li>Set destination to your application’s directory</li>
      <li>Click <b>Create</b></li>
    </ol>
  </li>
  <li>Click the Collection View object, navigate to the <i>Identity</i> inspector, and set the <i>Custom Class</i> to <b>CustomCollectionView</b></li>
</ol>

<h4 id="code">Code</h4>

<figure class="highlight"><pre><code class="language-objective_c" data-lang="objective_c"><span class="cp">#pragma mark - UICollectionViewDataSource
</span><span class="k">-</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">numberOfSectionsInCollectionView</span><span class="p">:(</span><span class="n">UICollectionView</span> <span class="o">*</span><span class="p">)</span><span class="nv">collectionView</span> <span class="p">{</span>
    <span class="c1">// Returns the total number of sections
</span>    <span class="c1">// only one section
</span>    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">-</span> <span class="p">(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nf">collectionView</span><span class="p">:(</span><span class="n">UICollectionView</span> <span class="o">*</span><span class="p">)</span><span class="nv">view</span> <span class="nf">numberOfItemsInSection</span><span class="p">:(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nv">section</span> <span class="p">{</span>
    <span class="c1">// Returns the number of cells to be displayed for a given section
</span>    <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">tiles_count</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">-</span> <span class="p">(</span><span class="n">UICollectionViewCell</span> <span class="o">*</span><span class="p">)</span><span class="nf">collectionView</span><span class="p">:(</span><span class="n">UICollectionView</span> <span class="o">*</span><span class="p">)</span><span class="nv">cv</span> <span class="nf">cellForItemAtIndexPath</span><span class="p">:(</span><span class="n">NSIndexPath</span> <span class="o">*</span><span class="p">)</span><span class="nv">indexPath</span> <span class="p">{</span>
    <span class="c1">// Returns the cell at a given index
</span>    <span class="c1">// cells with tag 0: informational tile
</span>    <span class="c1">// cells with tag 1: game tile
</span>    <span class="c1">//NSLog(@"FOR %d", indexPath.item);
</span>
    <span class="c1">// obtain a cell of ID "GameTileCell" (either new cell or one that can be reused)
</span>    <span class="n">GameTile</span><span class="o">*</span> <span class="n">cell</span> <span class="o">=</span> <span class="p">[</span><span class="n">cv</span> <span class="nf">dequeueReusableCellWithReuseIdentifier</span><span class="p">:</span><span class="s">@"GameTileCell"</span> <span class="nf">forIndexPath</span><span class="p">:</span><span class="n">indexPath</span><span class="p">];</span>

    <span class="c1">// set cell parameters...
</span>
    <span class="c1">//NSLog(@"FOR %d, %d", cell.row, cell.column);
</span>    <span class="k">return</span> <span class="n">cell</span><span class="p">;</span>
<span class="p">}</span>

<span class="cp">#pragma mark - UICollectionViewDelegateFlowLayout
</span><span class="c1">// Specify size of a cell
</span><span class="k">-</span> <span class="p">(</span><span class="n">CGSize</span><span class="p">)</span><span class="nf">collectionView</span><span class="p">:(</span><span class="n">UICollectionView</span> <span class="o">*</span><span class="p">)</span><span class="nv">collectionView</span> <span class="nf">layout</span><span class="p">:(</span><span class="n">UICollectionViewLayout</span><span class="o">*</span><span class="p">)</span><span class="nv">collectionViewLayout</span> <span class="nf">sizeForItemAtIndexPath</span><span class="p">:(</span><span class="n">NSIndexPath</span> <span class="o">*</span><span class="p">)</span><span class="nv">indexPath</span> <span class="p">{</span>
    <span class="n">NSInteger</span> <span class="n">row</span> <span class="o">=</span> <span class="n">indexPath</span><span class="p">.</span><span class="n">item</span> <span class="o">/</span> <span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">brain</span><span class="p">.</span><span class="n">board_size</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
    <span class="n">NSInteger</span> <span class="n">column</span> <span class="o">=</span> <span class="n">indexPath</span><span class="p">.</span><span class="n">item</span> <span class="o">%</span> <span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">brain</span><span class="p">.</span><span class="n">board_size</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>

    <span class="c1">// calculate size of cell based on collectionview size
</span>    <span class="n">CGRect</span> <span class="n">frame</span> <span class="o">=</span> <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">board_layout</span> <span class="nf">frame</span><span class="p">];</span>
    <span class="n">NSInteger</span> <span class="n">cellsize</span> <span class="o">=</span> <span class="p">(</span><span class="n">frame</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">height</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">brain</span><span class="p">.</span><span class="n">board_size</span><span class="o">+</span><span class="mi">1</span><span class="p">);</span>
    <span class="n">CGSize</span> <span class="n">retval</span> <span class="o">=</span> <span class="n">CGSizeMake</span><span class="p">(</span><span class="n">cellsize</span><span class="p">,</span> <span class="n">cellsize</span><span class="p">);</span>

    <span class="c1">//NSLog(@"ROW: %d, COL: %d, SIZE X: %f, SIZE Y: %f",row, column, retval.width, retval.height);
</span>    <span class="c1">//NSLog(@"WIDTH: %f HEIGHT: %f", frame.size.width, frame.size.height);
</span>    <span class="k">return</span> <span class="n">retval</span><span class="p">;</span>
<span class="p">}</span>
<span class="c1">// Returns spacing between cells, headers, and footers
</span><span class="k">-</span> <span class="p">(</span><span class="n">UIEdgeInsets</span><span class="p">)</span><span class="nf">collectionView</span><span class="p">:</span>
<span class="p">(</span><span class="n">UICollectionView</span><span class="o">*</span><span class="p">)</span><span class="nv">collectionView</span> <span class="nf">layout</span><span class="p">:(</span><span class="n">UICollectionViewLayout</span><span class="o">*</span><span class="p">)</span><span class="nv">collectionViewLayout</span> <span class="nf">insetForSectionAtIndex</span><span class="p">:(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nv">section</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">UIEdgeInsetsMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<h3 id="high-scores">High Scores</h3>
<p>I ended up using SQLite for storing high scores (an alternative would be to use Core Data, but I didn’t investigate that path enough).</p>

<p>Add the following code to load the SQL database (or create one if the database cannot be found). For my project, this code was added to the application didFinishLaunchingWithOptions function in BattleshipAppDelegate.m</p>

<figure class="highlight"><pre><code class="language-objective_c" data-lang="objective_c"><span class="n">NSArray</span><span class="o">*</span> <span class="n">dirPaths</span> <span class="o">=</span> <span class="n">NSSearchPathForDirectoriesInDomains</span><span class="p">(</span><span class="n">NSDocumentDirectory</span><span class="p">,</span> <span class="n">NSUserDomainMask</span><span class="p">,</span> <span class="nb">YES</span><span class="p">);</span> <span class="c1">// get a list of directories that are owned by the application
</span><span class="n">NSString</span><span class="o">*</span> <span class="n">docsDir</span> <span class="o">=</span> <span class="n">dirPaths</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span> <span class="c1">// assume it's in the first directory
</span><span class="n">self</span><span class="p">.</span><span class="n">databasePath</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSString</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithString</span><span class="p">:[</span><span class="n">docsDir</span> <span class="nf">stringByAppendingPathComponent</span><span class="p">:</span><span class="s">@"scores.db"</span><span class="p">]];</span> <span class="c1">// this is the expected path to where the database should live ('docsDir . "/scores.db/')
</span><span class="n">NSFileManager</span> <span class="o">*</span><span class="n">filemgr</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSFileManager</span> <span class="nf">defaultManager</span><span class="p">];</span> <span class="c1">// define filemanager. this is used to look up if a file exists or not
</span>
<span class="c1">// if database file doesn't exist, create it
</span><span class="k">if</span> <span class="p">([</span><span class="n">filemgr</span> <span class="nf">fileExistsAtPath</span><span class="p">:</span><span class="n">self</span><span class="p">.</span><span class="n">databasePath</span><span class="p">]</span> <span class="o">==</span> <span class="nb">NO</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">dbPath</span> <span class="o">=</span> <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">databasePath</span> <span class="nf">UTF8String</span><span class="p">];</span> <span class="c1">// convert pathname to UTF8 String
</span>    <span class="n">sqlite3</span><span class="o">*</span> <span class="n">scoresDB</span><span class="p">;</span> <span class="c1">// stores pointer to high scores database
</span>
    <span class="c1">// create a database at the specified path
</span>    <span class="k">if</span> <span class="p">(</span><span class="n">sqlite3_open</span><span class="p">(</span><span class="n">dbPath</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">scoresDB</span><span class="p">)</span> <span class="o">==</span> <span class="n">SQLITE_OK</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">char</span><span class="o">*</span> <span class="n">errorMsg</span><span class="p">;</span>
        <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">sql_stmt</span> <span class="o">=</span> <span class="s">"CREATE TABLE IF NOT EXISTS SCORES (ID INTEGER PRIMARY KEY AUTOINCREMENT, BOARD INTEGER, MINUTES INTEGER, SECONDS INTEGER, RANK INTEGER);"</span><span class="p">;</span>

        <span class="c1">// create table in database
</span>        <span class="k">if</span> <span class="p">(</span><span class="n">sqlite3_exec</span><span class="p">(</span><span class="n">scoresDB</span><span class="p">,</span> <span class="n">sql_stmt</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">errorMsg</span><span class="p">)</span> <span class="o">!=</span> <span class="n">SQLITE_OK</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">//NSLog(@"Failed to create table");
</span>        <span class="p">}</span>

        <span class="n">sqlite3_close</span><span class="p">(</span><span class="n">scoresDB</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Failed to open/create database"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="o">//</span> <span class="n">self</span><span class="p">.</span><span class="n">databasePath</span> <span class="n">will</span> <span class="n">be</span> <span class="n">used</span></code></pre></figure>

<p>Here’s an example of using a SELECT statement. This was used in the High Scores View Controller to retrieve a list of levels that contained high scores.</p>

<figure class="highlight"><pre><code class="language-objective_c" data-lang="objective_c"><span class="n">BattleshipAppDelegate</span><span class="o">*</span> <span class="n">delegate</span> <span class="o">=</span> <span class="p">(</span><span class="n">BattleshipAppDelegate</span><span class="o">*</span><span class="p">)</span> <span class="p">[[</span><span class="n">UIApplication</span> <span class="nf">sharedApplication</span><span class="p">]</span> <span class="nf">delegate</span><span class="p">];</span>
<span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">dbPath</span> <span class="o">=</span> <span class="p">[</span><span class="n">delegate</span><span class="p">.</span><span class="n">databasePath</span> <span class="nf">UTF8String</span><span class="p">];</span> <span class="c1">// determined above
</span><span class="n">sqlite3</span><span class="o">*</span> <span class="n">scoresDB</span><span class="p">;</span>

<span class="c1">// open the database
</span><span class="k">if</span> <span class="p">(</span><span class="n">sqlite3_open</span><span class="p">(</span><span class="n">dbPath</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">scoresDB</span><span class="p">)</span> <span class="o">==</span> <span class="n">SQLITE_OK</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">NSString</span><span class="o">*</span> <span class="n">query</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSString</span> <span class="nf">stringWithFormat</span><span class="p">:</span><span class="s">@"SELECT DISTINCT BOARD FROM SCORES ORDER BY ID ASC"</span><span class="p">];</span>
    <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">query_stmt</span> <span class="o">=</span> <span class="p">[</span><span class="n">query</span> <span class="nf">UTF8String</span><span class="p">];</span>

    <span class="c1">// query database for all unique boards
</span>    <span class="n">sqlite3_stmt</span><span class="o">*</span> <span class="n">statement</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">sqlite3_prepare_v2</span><span class="p">(</span><span class="n">scoresDB</span><span class="p">,</span> <span class="n">query_stmt</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">statement</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">)</span> <span class="o">==</span> <span class="n">SQLITE_OK</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// if at least one row returns
</span>        <span class="k">if</span> <span class="p">(</span><span class="n">sqlite3_step</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span> <span class="o">==</span> <span class="n">SQLITE_ROW</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// step through each returned row of data
</span>            <span class="k">do</span> <span class="p">{</span>
               <span class="n">NSNumber</span><span class="o">*</span> <span class="n">board_id</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSNumber</span> <span class="nf">numberWithInt</span><span class="p">:</span><span class="n">sqlite3_column_int</span><span class="p">(</span><span class="n">statement</span><span class="p">,</span> <span class="mi">0</span><span class="p">)];</span>
               <span class="c1">//NSLog(@"BOARD ID: %@", board_id);
</span>
               <span class="p">[</span><span class="n">boards</span> <span class="nf">addObject</span><span class="p">:</span><span class="n">board_id</span><span class="p">];</span>
            <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="n">sqlite3_step</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span> <span class="o">==</span> <span class="n">SQLITE_ROW</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="n">sqlite3_finalize</span><span class="p">(</span><span class="n">statement</span><span class="p">);</span> <span class="c1">// release compiled statement from memory
</span>    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Failed SQL PREPARE. Error is: %s"</span><span class="p">,</span> <span class="n">sqlite3_errmsg</span><span class="p">(</span><span class="n">scoresDB</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="c1">// close database connection
</span>    <span class="n">sqlite3_close</span><span class="p">(</span><span class="n">scoresDB</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<p>Here’s an example of using a DELETE statement. This was used in the Settings View Controller to delete all the high scores from the database.</p>

<figure class="highlight"><pre><code class="language-objective_c" data-lang="objective_c"><span class="n">BattleshipAppDelegate</span><span class="o">*</span> <span class="n">delegate</span> <span class="o">=</span> <span class="p">(</span><span class="n">BattleshipAppDelegate</span><span class="o">*</span><span class="p">)</span> <span class="p">[[</span><span class="n">UIApplication</span> <span class="nf">sharedApplication</span><span class="p">]</span> <span class="nf">delegate</span><span class="p">];</span>
<span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">dbPath</span> <span class="o">=</span> <span class="p">[</span><span class="n">delegate</span><span class="p">.</span><span class="n">databasePath</span> <span class="nf">UTF8String</span><span class="p">];</span>
<span class="n">sqlite3</span><span class="o">*</span> <span class="n">scoresDB</span><span class="p">;</span>

<span class="c1">// open high scores database
</span><span class="k">if</span> <span class="p">(</span><span class="n">sqlite3_open</span><span class="p">(</span><span class="n">dbPath</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">scoresDB</span><span class="p">)</span> <span class="o">==</span> <span class="n">SQLITE_OK</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// generate command to delete all entries in database
</span>    <span class="n">NSString</span><span class="o">*</span> <span class="n">query</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSString</span> <span class="nf">stringWithFormat</span><span class="p">:</span><span class="s">@"DELETE FROM SCORES"</span><span class="p">];</span>
    <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">delete_stmt</span> <span class="o">=</span> <span class="p">[</span><span class="n">query</span> <span class="nf">UTF8String</span><span class="p">];</span>
    <span class="n">sqlite3_stmt</span><span class="o">*</span> <span class="n">statement</span><span class="p">;</span>

    <span class="c1">// execute command
</span>    <span class="n">sqlite3_prepare_v2</span><span class="p">(</span><span class="n">scoresDB</span><span class="p">,</span> <span class="n">delete_stmt</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">statement</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>

    <span class="c1">// check results of execution
</span>    <span class="k">if</span> <span class="p">(</span><span class="n">sqlite3_step</span><span class="p">(</span><span class="n">statement</span><span class="p">)</span> <span class="o">==</span> <span class="n">SQLITE_DONE</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Deleted"</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Error: Deleting Score"</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// release compiled statement from memory
</span>    <span class="n">sqlite3_finalize</span><span class="p">(</span><span class="n">statement</span><span class="p">);</span>

    <span class="c1">// close database connection
</span>    <span class="n">sqlite3_close</span><span class="p">(</span><span class="n">scoresDB</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<h3 id="settings">Settings</h3>
<h4 id="storyboard-2">Storyboard</h4>

<ol>
  <li>Drag a new <b>Table View Controller</b> into the storyboard</li>
  <li>Select the view controller and navigate to the <i>Attributes</i> inspector</li>
  <li>Set <i>Content</i> to <b>Static Cells</b>.
    <ol>
      <li>This means you will define how the cells look in storyboard rather than dynamically through code (like we did in the Level Select View Controller)</li>
    </ol>
  </li>
  <li>Set <i>Sections</i> to how many logical groups of settings you want. In this case, I picked <b>2</b>.</li>
  <li>You can add/remove cells from each group as you see fit. If you want to add more, drag a Table View Cell object into a particular group.</li>
  <li>To customize a cell, drag objects (e.g. labels, switches) onto each cell.</li>
  <li>By default, each cell is selectable (like a button). I left this behavior on the <i>Reset High Scores</i> option. However, I did not want this behavior on the Sound toggle option. Highlight the corresponding cell, navigate to the <i>Attributes</i> inspector, and set <i>Selection</i> to <b>None</b>.</li>
</ol>

<h4 id="code-1">Code</h4>
<ol>
  <li>File -&gt; New -&gt; File -&gt; iOS/Resource -&gt; <b>Property List</b></li>
  <li>Save As <b>defaults</b></li>
  <li>Click <b>Create</b></li>
  <li>Select <b>defaults.plist</b> in <i>Project Navigator</i></li>
  <li>Right-click <b>Root</b></li>
  <li>Click <b>Add Row</b></li>
  <li>Name the property (e.g. <b>soundEnabled</b>)</li>
  <li>Set the property type (e.g. <b>Boolean</b>)</li>
  <li>Set the default value (e.g. <b>YES</b>)</li>
  <li>In BattleshipAppDelegate.m, add the following statement to load the defaults.plist file once the application has finished loading.</li>
</ol>

<figure class="highlight"><pre><code class="language-objective_c" data-lang="objective_c"><span class="k">-</span> <span class="p">(</span><span class="n">BOOL</span><span class="p">)</span><span class="nf">application</span><span class="p">:(</span><span class="n">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span> <span class="nf">didFinishLaunchingWithOptions</span><span class="p">:(</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span> <span class="p">{</span>
    <span class="c1">//...
</span>    <span class="p">[[</span><span class="n">NSUserDefaults</span> <span class="nf">standardUserDefaults</span><span class="p">]</span> <span class="nf">registerDefaults</span><span class="p">:[</span><span class="n">NSDictionary</span> <span class="nf">dictionaryWithContentsOfFile</span><span class="p">:[[</span><span class="n">NSBundle</span> <span class="nf">mainBundle</span><span class="p">]</span> <span class="nf">pathForResource</span><span class="p">:</span><span class="s">@"defaults"</span> <span class="nf">ofType</span><span class="p">:</span><span class="s">@"plist"</span><span class="p">]]];</span>
    <span class="c1">//...
</span><span class="p">}</span></code></pre></figure>

<p>To access these values…</p>

<figure class="highlight"><pre><code class="language-objective_c" data-lang="objective_c"><span class="n">NSUserDefaults</span><span class="o">*</span> <span class="n">settings</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSUserDefaults</span> <span class="nf">standardUserDefaults</span><span class="p">];</span>
<span class="n">BOOL</span> <span class="n">soundEnabled</span> <span class="o">=</span> <span class="p">[</span><span class="n">settings</span> <span class="nf">boolForKey</span><span class="p">:</span><span class="s">@"soundEnabled"</span><span class="p">];</span></code></pre></figure>

<p>To change a value…</p>

<figure class="highlight"><pre><code class="language-objective_c" data-lang="objective_c"><span class="n">NSUserDefaults</span><span class="o">*</span> <span class="n">settings</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSUserDefaults</span> <span class="nf">standardUserDefaults</span><span class="p">];</span>
<span class="p">[</span><span class="n">settings</span> <span class="nf">setBool</span><span class="p">:</span><span class="nb">true</span> <span class="nf">forKey</span><span class="p">:</span><span class="s">@"soundEnabled"</span><span class="p">];</span></code></pre></figure>

<h3 id="alerts">Alerts</h3>
<p>Alerts (pop-ups) were added to the game to confirm that a user wanted to proceed with a certain action. This was used in two places. The first was to confirm that a user wanted to reset all of the stored high scores. The second was to confirm that a user wanted to reset his/her progress on a current level.</p>

<p>To present the user with an alert, the following code was invoked after a user tapped a button</p>

<figure class="highlight"><pre><code class="language-objective_c" data-lang="objective_c"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">showAlert</span> <span class="p">{</span>
    <span class="n">UIAlertView</span><span class="o">*</span> <span class="n">alert</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIAlertView</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithTitle</span><span class="p">:</span><span class="s">@"Reset High Score?"</span>
        <span class="nf">message</span><span class="p">:</span><span class="s">@"Are you sure you want to reset high scores?"</span>
        <span class="n">delegate</span><span class="o">:</span><span class="n">self</span> <span class="c1">// delegate set to self =&gt; this view controller will get a callback - need to implement the callback (see alertView didDismissWithButtonIndex)
</span>        <span class="nl">cancelButtonTitle:</span><span class="s">@"Cancel"</span>
        <span class="n">otherButtonTitles</span><span class="o">:</span><span class="s">@"Yes"</span><span class="p">,</span><span class="nb">nil</span><span class="p">];</span> <span class="c1">// could add more buttons after "Yes". List of buttons ends in "nil".
</span>    <span class="p">[</span><span class="n">alert</span> <span class="nf">setTag</span><span class="p">:</span><span class="mi">1</span><span class="p">];</span> <span class="c1">// alert ID
</span>    <span class="p">[</span><span class="n">alert</span> <span class="nf">show</span><span class="p">];</span>
<span class="p">}</span></code></pre></figure>

<p>To react to the user’s response to the pop-up, the following function was added</p>

<figure class="highlight"><pre><code class="language-objective_c" data-lang="objective_c"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">alertView</span><span class="p">:(</span><span class="n">UIAlertView</span><span class="o">*</span><span class="p">)</span><span class="nv">alertView</span> <span class="nf">didDismissWithButtonIndex</span><span class="p">:(</span><span class="n">NSInteger</span><span class="p">)</span><span class="nv">buttonIndex</span> <span class="p">{</span>
    <span class="c1">// tag set above
</span>    <span class="k">if</span> <span class="p">(</span><span class="n">alertView</span><span class="p">.</span><span class="n">tag</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// cancel
</span>        <span class="k">if</span> <span class="p">(</span><span class="n">buttonIndex</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="p">}</span>
        <span class="c1">// OK
</span>        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">buttonIndex</span> <span class="o">!=</span> <span class="n">alertView</span><span class="p">.</span><span class="n">cancelButtonIndex</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// do something
</span>        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<h3 id="sounds">Sounds</h3>
<p>To add sounds to the game…</p>

<ol>
  <li>File -&gt; Add Files to “Project”</li>
  <li>Select an mp3 file (in this case, I added ff6_victory.mp3)</li>
  <li>Add the following code…</li>
</ol>

<figure class="highlight"><pre><code class="language-objective_c" data-lang="objective_c"><span class="c1">// load sounds
</span><span class="n">NSString</span><span class="o">*</span> <span class="n">soundPath</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSBundle</span> <span class="nf">mainBundle</span><span class="p">]</span> <span class="nf">pathForResource</span><span class="p">:</span><span class="s">@"ff6_victory"</span> <span class="nf">ofType</span><span class="p">:</span><span class="s">@"mp3"</span><span class="p">];</span>
<span class="n">NSURL</span><span class="o">*</span> <span class="n">filePath</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSURL</span> <span class="nf">fileURLWithPath</span><span class="p">:</span><span class="n">soundPath</span> <span class="nf">isDirectory</span><span class="p">:</span><span class="nb">false</span><span class="p">];</span>
<span class="n">AVAudioPlayer</span><span class="o">*</span> <span class="n">audioplayer</span> <span class="o">=</span> <span class="p">[[</span><span class="n">AVAudioPlayer</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithContentsOfURL</span><span class="p">:</span><span class="n">filePath</span> <span class="nf">error</span><span class="p">:</span><span class="nb">nil</span><span class="p">];</span>
<span class="p">[</span><span class="n">audioplayer</span> <span class="nf">prepareToPlay</span><span class="p">];</span>
<span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">soundplayers</span> <span class="nf">addObject</span><span class="p">:</span><span class="n">audioplayer</span><span class="p">];</span> <span class="c1">// all my sounds were added to this array
</span>
<span class="c1">// play sound
</span><span class="n">audioplayer</span> <span class="o">=</span> <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">soundplayers</span> <span class="nf">objectAtIndex</span><span class="p">:</span><span class="mi">0</span><span class="p">];</span>
<span class="p">[</span><span class="n">audioplayer</span> <span class="nf">play</span><span class="p">];</span>

<span class="c1">// stop sound
</span><span class="n">audioplayer</span> <span class="o">=</span> <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">soundplayers</span> <span class="nf">objectAtIndex</span><span class="p">:</span><span class="mi">0</span><span class="p">];</span>
<span class="p">[</span><span class="n">audioplayer</span> <span class="nf">stop</span><span class="p">];</span></code></pre></figure>

<h2 id="references">References</h2>
<h3 id="storyboards">Storyboards</h3>
<ul>
  <li><a href="http://www.techotopia.com/index.php/Using_Xcode_Storyboarding_(iPhone_iOS_5)">http://www.techotopia.com/index.php/Using_Xcode_Storyboarding_(iPhone_iOS_5)</a></li>
  <li><a href="http://kurrytran.blogspot.com/2011/07/simple-ios-5-tutorial-using-storyboard.html">http://kurrytran.blogspot.com/2011/07/simple-ios-5-tutorial-using-storyboard.html</a></li>
</ul>

<h3 id="uicollectionview">UICollectionView</h3>
<ul>
  <li><a href="http://www.raywenderlich.com/22324/beginning-uicollectionview-in-ios-6-part-12">http://www.raywenderlich.com/22324/beginning-uicollectionview-in-ios-6-part-12</a></li>
  <li><a href="http://skeuo.com/uicollectionview-custom-layout-tutorial">http://skeuo.com/uicollectionview-custom-layout-tutorial</a></li>
  <li><a href="http://www.appcoda.com/ios-programming-uicollectionview-tutorial/">http://www.appcoda.com/ios-programming-uicollectionview-tutorial/</a></li>
</ul>

<h3 id="passing-data-between-view-controllers">Passing Data Between View Controllers</h3>
<ul>
  <li><a href="http://stackoverflow.com/questions/5210535/passing-data-between-view-controllers">http://stackoverflow.com/questions/5210535/passing-data-between-view-controllers</a></li>
</ul>

<h3 id="reading-a-text-file">Reading a Text File</h3>
<ul>
  <li><a href="http://stackoverflow.com/questions/7828073/reading-a-text-file-in-objective-c">http://stackoverflow.com/questions/7828073/reading-a-text-file-in-objective-c</a></li>
</ul>

<h3 id="nsuserdefaults">NSUserDefaults</h3>
<ul>
  <li><a href="http://stackoverflow.com/questions/2076816/how-to-register-user-defaults-using-nsuserdefaults-without-overwriting-existing">http://stackoverflow.com/questions/2076816/how-to-register-user-defaults-using-nsuserdefaults-without-overwriting-existing</a></li>
  <li><a href="http://stackoverflow.com/questions/9927094/ios-saving-high-score-locally">http://stackoverflow.com/questions/9927094/ios-saving-high-score-locally</a></li>
</ul>

<h3 id="sqlite">SQLite</h3>
<ul>
  <li><a href="http://www.techotopia.com/index.php/An_Example_SQLite_based_iOS_6_iPhone_Application">http://www.techotopia.com/index.php/An_Example_SQLite_based_iOS_6_iPhone_Application</a></li>
</ul>

        <br />
    </div>
  </div>

  
    

  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = 'http://www.mycowsworld.com/blog/2013/12/16/classic-battleships-ios.html';
      this.page.identifier = 'http://www.mycowsworld.com/blog/2013/12/16/classic-battleships-ios.html';
    };

    (function() {
      var d = document, s = d.createElement('script');

      s.src = 'https://mycowsworld.disqus.com/embed.js';

      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


  
</article>

<script type="text/javascript">
	$(".site-links:contains('Blog'):parent").addClass("active-link");
</script>

            </section>

            <!-- FOOTER -->
            <footer>
                <!-- <p><small>Hosted on <a href="https://pages.github.com" target="_blank">GitHub Pages</a> using the <a href="https://github.com/pages-themes/dinky" target="_blank">Dinky</a> theme</small></p>-->
                <!--<p class="rss-subscribe">Subscribe via <a href="/feed.xml">RSS</a></p>-->
            </footer>
        </div>


        <script type="text/javascript">
            // -----------------
            // Mobile Menu
            // -----------------
            $( ".menu" ).hide();
            $( ".hamburger" ).click(function() {
                $( ".menu" ).slideToggle( "slow", function() {
                });
            });

            // -----------------
            // Remove :hover from CSS on touch devices
            // http://stackoverflow.com/questions/23885255/how-to-remove-ignore-hover-css-style-on-touch-devices
            // -----------------
            var touch = 'ontouchstart' in document.documentElement
            || navigator.maxTouchPoints > 0
            || navigator.msMaxTouchPoints > 0;

            if (touch) { // remove all :hover stylesheets
                try { // prevent exception on browsers not supporting DOM styleSheets properly
                    for (var si in document.styleSheets) {
                        var styleSheet = document.styleSheets[si];
                        if (!styleSheet.rules) continue;

                        for (var ri = styleSheet.rules.length - 1; ri >= 0; ri--) {
                            if (!styleSheet.rules[ri].selectorText) continue;

                            if (styleSheet.rules[ri].selectorText.match(':hover')) {
                                styleSheet.deleteRule(ri);
                            }
                        }
                    }
                } catch (ex) {}
            }
        </script>

        <!--[if !IE]><script>fixScale(document);</script><![endif]-->
        
    </body>
</html>
